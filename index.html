<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Dynamic Route Configuration in angular2</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/main.css" media="screen">
    <link rel="stylesheet" type="text/css" href="node_modules/bootstrap/dist/css/bootstrap.css" media="screen">


  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Rolland Safort Ntague</h1>
      <h2 class="project-tagline">Dynamic Route Configuration in angular2</h2>
    </section>

    <div class="container-fluid">
      <div class="row">
        <div  class="col-sm-2">

          <img src="images/profile.bmp" width="70px" height="140px" style="display:block; margin:auto;"></img>
          <div class="text-center">Rolland Safort</div>

        </div>
        <div class="col-sm-8">
            <div class="highlight">
              <pre>
              <code class="language-ts" data-lang="ts">
                import {Component,View,Inject, Injectable, provide} from 'angular2/core'
                import {CORE_DIRECTIVES} from 'angular2/common';
                import {HTTP_PROVIDERS } from 'angular2/http';
                import {ROUTER_DIRECTIVES, ROUTER_PROVIDERS, RouteConfig,Location, LocationStrategy, HashLocationStrategy, Route, Router, RouterLink} from 'angular2/router';
                import {Header} from './layout/header/header';
                import {Navigator} from './layout/navigator/navigator';
                import {Home} from './components/home/home.component';
                import {Order} from './components/order/order.component';
                import {CONFIG} from './admin.config';
                import {DynamicRouteConfigurator} from './services/router';

                @Component({
                selector:'admin',
                providers: [
                  HTTP_PROVIDERS,
                  ROUTER_PROVIDERS,
                  provide(LocationStrategy, { useClass: HashLocationStrategy }),
                  Request,
                  RouterLink,
                  DynamicRouteConfigurator
                ]
                })



                @RouteConfig([
                ])

                @View({
                templateUrl:CONFIG.globalPath +  'admin.html',
                directives: [ROUTER_DIRECTIVES, Header, Navigator, CORE_DIRECTIVES]
                })

                export class Admin{
                  appRoutes: any[];
                constructor(private dynamicRouteConfigurator: DynamicRouteConfigurator) {
                  this.appRoutes = this.getAppRoutes();
                    let routes = [ { path: '/', component: Home, name: 'Dashboard' },{ path: '/order', component: Order, name: 'Order' }];
                    var i = -1;
                    while(++i<routes.length){
                       this.dynamicRouteConfigurator.addRoute(this.constructor, routes[i]);
                    }
                    this.appRoutes = this.getAppRoutes();
                }

                private getAppRoutes(): any[] {
                    return this.dynamicRouteConfigurator
                    .getRoutes(this.constructor).configs.map(route => {
                      return { link: [`/${route.name}`], title: route.name,icon:'mdi-action-dashboard' };
                    });
                }

                }

              </code>
            </pre>
            </div>
        </div>
        <div class="col-sm-2"></div>
        <div class="clearfix"></div>
    </div>

      <footer class="site-footer text-center">
        angular2 tips
      </footer>

    </div>

<script src="node_modules/jquery/dist/jquery.min.js"></script>
<script src="node_modules/bootstrap/dist/js/bootstrap.js"></script>
  </body>
</html>
